<html>
    <head>
        <title>Runesmith Game</title>
        <link rel="stylesheet" type="text/css" href="runesmith.css"/>
        <!--<script src="runesmith.js"/>-->
        <script>
            var runes = [ 'Red', 'Aqua', 'Brown', 'Blue', 'Yellow' ]
            var masteryCells = [9, 25, 49, 81, 121]
            var selectionCells = [6, 15, 28, 45, 66]
            var rows = 5
            var columns = 5
            var allowedSelection = 15
            var selectionAmount = 0
            
            function randomColor() {
                return runes[Math.floor(Math.random() * runes.length)]
            }
            
            function drawTable() {
                var tableDiv = document.getElementById("runetable")
                var tableElement = document.createElement('table')
                
                for(var r = 0; r < rows; r++) {
                    var row = document.createElement('tr')
                    for(var c = 0; c < columns; c++) {
                        var cell = document.createElement('td')
                        cell.onmousedown = function() {
                            if (selectionAmount < allowedSelection) {
                                if (this.style.backgroundColor == '') {
                                    selectionAmount += 1
                                    this.style.backgroundColor = randomColor()
                                } else {
                                    this.style.backgroundColor = randomColor()
                                }
                            } else {
                                if (this.style.backgroundColor != '') {
                                    this.style.backgroundColor = randomColor()
                                }
                            }
                            document.getElementById("usedElements").innerHTML = selectionAmount
                        }
                        row.appendChild(cell)
                    }
                    tableElement.appendChild(row)
                }
                tableDiv.appendChild(tableElement)
            }
            window.onload = drawTable
        </script>
    </head>
    <body>
        <p>
            <ul>
                <li>Rune Mastery lv1 (1 type, 9 cells, 6 elements)</li>
                <li>Rune Mastery lv2 (2 types, 25 cells, 15 elements)</li>
                <li>Rune Mastery lv3 (4 type, 49 cells, 29 elements)</li>
                <li>Rune Mastery lv4 (5 types, 81 cells, 45 elements)</li>
                <li>Rune Mastery lv5 (7 types, 121 cells, 66 elements)</li>
            </ul>

            <blockquote>
                <span>
                    The path of rune mastery was long and tedious.
                    But in the end, runesmith saw the grace of god
                    and was granted with the ability to create runes!
                </span>
            </blockquote>

            Rune Creation

            <table>
                <tr>
                    <td colspan="2">Those are the primeval elements</td>
                </tr>
                <tr>
                    <td>Fire</td><td>Red</td>
                </tr>
                <tr>
                    <td>Wind</td><td>Aqua</td>
                </tr>
                    <td>Earth</td><td>Brown</td>
                </tr>
                    <td>Water</td><td>Blue</td>
                <tr>
                    <td>Lighting</td><td>Yellow</td>
                </tr>
                <tr>
                    <td colspan="2">Those are hidden elements</td>
                </tr>
                <tr>
                    <td>Dark</td><td>Black</td>
                </tr>
                <tr>
                    <td>Lighting</td><td>White</td>
                </tr>
            </table>
        </p>
        <p>Number of used elements: <span id="usedElements"> 0 </span></p>
        <div id="runetable"></div>
    </body>
</html>
